<!-- START OF EDIT PANEL -->
<!-- START of ANIMATIONS -->
<div ng-init="selectedLoading = false" ng-class="loading?'fadeOutDown':'fadeInUp'" class="animated">
    <div animate-enabled='true' ng-show="selectedItem" class="panel animShow">
        <!-- END of ANIMATIONS -->
        <div class="panel articleCard">
            <div class="panel-body">
                <div class="form-group">
                    <div class="col-sm-4 col-lg-2">
                        <label>Image</label>
                        <div class="event-team-logo text-center" ng-show="selectedItem._id">
                            <img ng-if="selectedItem.logo" style="width: 100%;" class="m" ng-src="{{selectedItem.logo}}" />
                            <image-upload folder="teams" search="transparent png 256" should-update="true" filename="selectedItem._id" ng-model="selectedItem"
                                pic-key="logo"></image-upload>
                        </div>
                        <div class="event-team-logo text-center" ng-show="!selectedItem._id">
                            <p ng-if="!selectedItem.logo" class="muted">This data item does not have an ID yet.</br>Therefore you cannot upload an image until it has.</br>However
                                you can pass an image url in the settings tab.</p>
                            <img ng-if="selectedItem.logo" class="thumb256 m" ng-src="{{selectedItem.logo}}" />
                        </div>
                    </div>
                    <div class="col-sm-8 col-lg-5">

                        <multi-lang-text language-object="selectedItem.name" default="en" label="Club Name"></multi-lang-text>

                        <label>League</label>
                        <ui-select limit=1 on-select="OnSet()" reset-search-input="true" ng-model="selectedItem.competitionid" theme="bootstrap"
                            ng-disabled="event.chooseplayer.disabled">
                            <ui-select-match placeholder="Select Competition">
                                <img class="ui-select-match-img" alt="$select.selected.name.en" ng-src="{{$select.selected.logo}}">                                {{$select.selected.name.en}}
                            </ui-select-match>

                            <ui-select-choices repeat="team._id as team in Competitions | filter: $select.search">
                                <img class="ui-select-match-img" alt='{{team.logo}}' ng-src='{{team.logo}}'>
                                <div ng-bind-html="team.name.en | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>

                    </div>

                    <tabset justified="true" class="bg-white  col-sm-8 col-lg-5" style="margin-top:20px">
                        <tab>
                            <tab-heading>
                                Players
                            </tab-heading>
                            <div ng-show="!selectedItem.playersLoaded" class="col-xs-12 p0">
                                <button ladda="view.loadingPlayers == 1" style="margin:5px" data-style="expand-right" ng-click="LoadPlayers(selectedItem)"
                                    ng-show="!selectedTeam.playersLoaded" class="col-xs-12 btn btn-primary edit">Load Players</button>
                            </div>
                            <!--{{selectedItem.players}}-->
                            <div ng-show="selectedItem.playersLoaded">

                                <!-- START OF Players Table -->
                                <div class="panel col-xs-12 no-padding">
                                    <table width="100%" class="table table-striped table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <!--<th>logo</th>-->
                                                <th>Name</th>
                                                <th>Position</th>
                                                <!--<th>ID</th>-->
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="player in selectedItem.players">
                                                <td><player-link playerid="player._id" name="player.name.en"></player-link></td>
                                                <td>{{player.position}}</td>
                                                <td align="center ">
                                                    <button class="btn btn-danger delete"> <i ng-click="removePlayer(player); " class="fa fa-trash "></i></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="panel-footer" style="overflow: visible; padding-bottom: 43px; background-color: white;">
                                        <!-- START OF Add New Player -->
                                        <div>
                                            <div class="col-xs-10" style="padding-left:0">
                                                <select chosen disable-search="false" data-placeholder="Add new player" allow-single-deselect="true" ng-model="selectedTeam.selectedPlayer"
                                                    ng-options="option.name.en for option in (Tags | filter: {type: 'Player'})"
                                                    class="form-control chosen-select">
                                                    <option value=""></option>
                                                </select>
                                            </div>
                                            <button ng-click="pushPlayer(selectedTeam.selectedPlayer)" class="col-xs-2 btn btn-default">Add</button>
                                        </div>
                                        <!-- END OF Add New Player -->
                                    </div>
                                </div>
                                <!-- END OF Players Table -->

                            </div>
                        </tab>
                        <tab>
                            <tab-heading>
                                Stats
                            </tab-heading>



                        </tab>
                        <tab>
                            <tab-heading>
                                Settings
                            </tab-heading>
                            <div class="col-xs-12" style="margin-top:20px">
                                <div class="form-group">
                                    <label>Image url</label>
                                    <input type="text" class="form-control" ng-model="selectedItem.logo" />
                                    <multi-lang-text ng-model="parserid" language-object="selectedItem.parserids" default="Stats" label="Parsers"></multi-lang-text>
                                    <btn ladda="view.busy" ng-click="updateByFeedParser(selectedItem, parserid.value)" data-style="zoom-out" class="col-xs-12 btn btn-lg edit">Update data by {{parserid.key}} parser and id:{{parserid.value}}</btn>
                                </div>
                            </div>

                        </tab>
                    </tabset>



                </div>
                <br/>
            </div>
            <div ng-show="type=='edit'">
                <div class="panel-footer">

                    <btn ng-click="selectedItem = null;  loading = true" class="btn btn-default pull-right">Cancel</btn>
                    <btn ladda="view.delete" data-style="expand-right" ng-click="deleteItem(selectedItem)" class="btn btn-outline delete btn-danger btn-space pull-right">Delete</btn>
                    <btn ladda="view.update" data-style="expand-right" ng-click="updateItem(selectedItem)" class="btn btn-outline do btn-success btn-space pull-right">Update</btn>
                </div>
            </div>
            <div ng-show="type=='create'">
                <div class="panel-footer">
                    <btn ng-click="selectedItem = null; loading = true" class="btn btn-default pull-right">Cancel</btn>
                    <btn ladda="view.update" data-style="expand-right" ng-click="CreateItem(selectedItem)" class="btn btn-outline do btn-success btn-space pull-right">Create</btn>
                </div>
            </div>
        </div>

    </div>
</div>
<!-- END OF EDIT PANEL -->
<!--{{selectedItem}}-->